# ---- Global pip options (Streamlit Cloud respects these in requirements.txt) ----
--no-binary=:all:          # prefer wheels; avoid building with system libs
--only-binary=numpy,torch,torchvision,timm,onnxruntime,opencv-python-headless,pillow,pytorch-lightning,huggingface_hub,safetensors

# ---- App runtime ----
streamlit>=1.36,<1.49
numpy<2.0
pillow>=10.2

# Hugging Face hub + safetensors
huggingface_hub>=0.23,<0.35
safetensors>=0.4.3

# Torch stack (CPU wheels on Streamlit Cloud)
torch==2.2.1
torchvision==0.17.1
timm==1.0.19
pytorch-lightning==2.2.5

# ONNX inference for YOLO (no OpenCV dependency)
onnxruntime==1.17.3

# âœ… Force HEADLESS OpenCV (prevents libGL)
opencv-python-headless==4.10.0.84

# PyTorch Grad-CAM (pull from git to avoid any packaging quirks)
# NOTE: This package *imports* cv2 but does NOT hard-require opencv-python;
# our headless build above satisfies it.
grad-cam @ git+https://github.com/jacobgil/pytorch-grad-cam@v1.5.0
